<html>
    <head>
        <title>Edit SASI Model Config '{{config.id}}'</title>
        {% for asset in assets %}
        {{asset}}
        {% endfor %}

        <script type="text/javascript">
            less.env = 'development';
        </script>

        <script type="text/javascript">
            // Checklist script.
            var checklistDispatcher;
            require(["jquery","use!backbone","use!underscore"],
                    function($, Backbone, _, SASIRunner){
                        checklistDispatcher = _.clone(Backbone.Events);

                        checklistDispatcher.on('field:change', function(fieldId, checked){
                            $fieldCheckbox = $('#' + fieldId + '-checkbox');
                            $fieldCheckbox.attr('checked', checked);
                        });
                    });


        </script>

        {% for field in fields %}
        {% if field.script %}
        <script type="text/javascript">
            {{field.script|safe}}
            </script>
            {% endif %}
            {% endfor %}
        </head>

        <body>
            <div class="sasi-model-config-edit">
                <div class="inner">
                    <h2 class="header">Edit SASI Model Config '{{config.id}}'</h2>
                    <div class="body">
                        <div class="inner">

                            <div class="checklist">
                                <div class="inner">
                                    <h3 class="header">Checklist</h3>
                                    <div class="body">
                                        <div class="inner">
                                            <div class="table">
                                                {% for field in fields %}
                                                <div class="row">
                                                    <div class="checkbox-cell cell">
                                                        <div class="inner">
                                                            <input id="{{field.id}}-checkbox" type="checkbox" disabled="true">
                                                        </div>
                                                    </div>
                                                    <div class="link-cell cell">
                                                        <div class="inner">
                                                            <a href="#{{field.id}}">{{field.label}}</a>
                                                        </div>
                                                    </div>
                                                </div>
                                                {% endfor %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="sections">
                                {% for field in fields %}
                                <a name="{{field.id}}"></a>
                                <div class="field-section section" id="{{field.id}}">
                                    <div class="inner">
                                        <h3 class="header">{{field.label}}</h3>
                                        <div class="description">{{field.description}}</div>
                                        <div class="body">{{field.body}}</div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                            <div>
                            </div>
                        </div>
                    </div>
                </body>
            </html>
